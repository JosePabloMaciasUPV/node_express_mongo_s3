(self.webpackChunkmy_webpage=self.webpackChunkmy_webpage||[]).push([[452],{452:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FilesModule:()=>Z});var o=i(116),n=i(587),r=i(619),a=i(529),l=i(693);let s=(()=>{class e{constructor(e,t){this.http=e,this.router=t}getFiles(){let e={email:localStorage.getItem("email")};const t={headers:new l.WM({"Content-Type":"application/json"})};return this.http.post(a.N.apiUrl+"/files",e,t)}uploadFile(e,t,i,o,n){const r=new FormData;r.append("file",i,i.name),r.append("name",e),r.append("fileName",n),r.append("description",t),r.append("sharedUsers",JSON.stringify(o)),r.append("email",localStorage.getItem("email")||"");const s={headers:new l.WM({})};this.http.post(a.N.apiUrl+"/newFile",r,s).subscribe(e=>{console.log(e),this.router.navigate(["/landing"])},e=>{alert("Ocurrio un error al subir")})}downloadFile(e,t){const i=new FormData;i.append("key",e),i.append("email",localStorage.getItem("email")||"");const o={key:e,email:localStorage.getItem("email")||""},n={headers:new l.WM({"Content-Disposition":"attachment;"}),responseType:"blob"};return this.http.post(a.N.apiUrl+"/file",o,n).subscribe(e=>{this.downLoadFile(e,"application/pdf",t)},e=>{console.log(e)})}downLoadFile(e,t,i){let o=new Blob([e],{type:"text/csv;charset=utf-8"}),n=window.URL.createObjectURL(o),r=window.open(n);r&&!r.closed&&void 0!==r.closed||alert("Please disable your Pop-up blocker and try again.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(l.eN),r.LFG(n.F0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function c(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",7),r.TgZ(1,"div",8),r.TgZ(2,"div",9),r.TgZ(3,"h5",10),r._uU(4),r.qZA(),r.TgZ(5,"div",11),r.TgZ(6,"p",12),r._uU(7),r.qZA(),r.TgZ(8,"p",12),r._uU(9),r.qZA(),r.TgZ(10,"p",12),r._uU(11),r.qZA(),r.TgZ(12,"div",13),r.TgZ(13,"div",14),r.TgZ(14,"button",15),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().downloadFile(t.resourceAwsPath,t.fileName)}),r._uU(15,"Descargar"),r.qZA(),r.TgZ(16,"button",16),r._uU(17,"Editar"),r.qZA(),r.qZA(),r.TgZ(18,"small",17),r._uU(19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(4),r.Oqu(e.name),r.xp6(3),r.Oqu(e.description),r.xp6(2),r.hij("Nombre del archivo: ",e.fileName,""),r.xp6(2),r.hij("Creado por: ",e.createdBy,""),r.xp6(8),r.Oqu(e.updatedAt)}}let d=(()=>{class e{constructor(e){this.fileService=e,this.myFiles=[]}ngOnInit(){this.getFiles()}getFiles(){this.fileService.getFiles().subscribe(e=>{this.myFiles=e,console.log(this.myFiles)})}downloadFile(e,t){this.fileService.downloadFile(e,t)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-landing-files"]],decls:13,vars:1,consts:[[1,"py-5","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light"],[1,"lead","text-muted"],["routerLink","/landing/new",1,"btn","btn-primary","my-2"],["class","row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3",4,"ngFor","ngForOf"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col"],[1,"card","shadow-sm"],[1,"card-title"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary",3,"click"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],[1,"text-muted"]],template:function(e,t){1&e&&(r.TgZ(0,"main"),r.TgZ(1,"section",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"h1",3),r._uU(5,"Mis archivos"),r.qZA(),r.TgZ(6,"p",4),r._uU(7,"Se muestran los archivos de los cuales eres propietario, tambi\xe9n archivos los cuales te compartieron otros usuarios, recuerda que despues de guardar el archivo cambiarle la extensi\xf3n , por ejemplo .jpg para una imagen o .pdf para un documento."),r.qZA(),r.TgZ(8,"p"),r.TgZ(9,"a",5),r._uU(10,"Crear Nuevo."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",1),r.YNc(12,c,20,5,"div",6),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(12),r.Q6J("ngForOf",t.myFiles))},directives:[n.yS,o.sg],styles:[""]}),e})();var u=i(462);function g(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",29),r._uU(1),r.TgZ(2,"button",30),r.NdJ("click",function(){const t=r.CHM(e).index;return r.oxw(2).deleteShared(t)}),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit;r.xp6(1),r.Oqu(e)}}function p(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"h3"),r._uU(3,"Subir Archivo nuevo"),r.qZA(),r.TgZ(4,"p"),r._uU(5,"En esta secci\xf3n podr\xe1s agregar un archivo a\xf1adiendole algunos detalles para identificarlo y puedes especificar a los usuarios que podr\xe1n verlo."),r.qZA(),r.qZA(),r.TgZ(6,"div",5),r.TgZ(7,"form",6),r.NdJ("ngSubmit",function(){return r.CHM(e),r.oxw().submit()}),r.TgZ(8,"div",7),r._UZ(9,"input",8),r.TgZ(10,"label",9),r._uU(11,"Nombre del archivo"),r.qZA(),r.qZA(),r.TgZ(12,"div",7),r._UZ(13,"textarea",10),r.TgZ(14,"label",11),r._uU(15,"Descripcion es requerida"),r.qZA(),r.qZA(),r.TgZ(16,"h4",12),r._uU(17,"Ingresa los correos de los usuarios a los que deseas compartir, al agregar el correo dale click al bot\xf3n con el icono de nube."),r.qZA(),r.TgZ(18,"div",13),r.TgZ(19,"div",14),r._UZ(20,"input",15),r.TgZ(21,"div",16),r.TgZ(22,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().onNewShared()}),r._UZ(23,"i",18),r.qZA(),r.qZA(),r.TgZ(24,"label",19),r._uU(25,"Inserta usuario(Correo electr\xf3nico)"),r.qZA(),r.qZA(),r.TgZ(26,"ul",20),r.YNc(27,g,3,1,"li",21),r.qZA(),r.qZA(),r.TgZ(28,"div",7),r.TgZ(29,"label",22),r._uU(30,"Selecciona tu archivo a subir"),r.qZA(),r.TgZ(31,"input",23,24),r.NdJ("change",function(t){return r.CHM(e),r.oxw().onFileSelected(t)}),r.qZA(),r.TgZ(33,"h4",12),r._uU(34),r.qZA(),r.TgZ(35,"button",25),r.NdJ("click",function(){return r.CHM(e),r.MAs(32).click()}),r._UZ(36,"i",26),r.qZA(),r.qZA(),r.TgZ(37,"div",27),r._UZ(38,"input",28),r.qZA(),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(7),r.Q6J("formGroup",e.newFile),r.xp6(20),r.Q6J("ngForOf",e.newSharedList),r.xp6(7),r.Oqu(e.fileName||"Sin archivo seleccionado."),r.xp6(4),r.Q6J("disabled",e.newFile.invalid)}}function h(e,t){1&e&&(r.TgZ(0,"div",7),r.TgZ(1,"h4",12),r._uU(2,"Subiendo archivo al finalizar te redireccionar\xe1"),r.qZA(),r.TgZ(3,"div",31),r.TgZ(4,"span",32),r._uU(5,"Loading..."),r.qZA(),r.qZA(),r.qZA())}const m=[{path:"",component:d},{path:"new",component:(()=>{class e{constructor(e){this.fileService=e,this.newFile=new u.cw({name:new u.NI("",u.kI.required),description:new u.NI("",u.kI.required),file:new u.NI("",u.kI.required),shared:new u.NI("",u.kI.email)}),this.newSharedList=[],this.fileName="",this.loading=!1}ngOnInit(){}submit(){if(this.newFile.value.shared.length>1)alert("aun no has terminado de a\xf1adir un correo:"+this.newFile.value.shared);else if(this.newFile.controls.file.valid&&this.newFile.controls.name.valid&&this.newFile.controls.description.valid){this.newSharedList.push(localStorage.getItem("email")||"");let e=new Set(this.newSharedList);this.newSharedList=Array.from(e),this.loading=!0,this.fileService.uploadFile(this.newFile.value.name,this.newFile.value.description,this.file,this.newSharedList,this.fileName)}}onFileSelected(e){this.file=e.target.files[0],this.fileName=e.target.files[0].name}deleteShared(e){this.newSharedList.splice(e,1)}onNewShared(){if(this.newFile.controls.shared.valid&&this.newFile.value.shared.length>1){this.newSharedList.push(this.newFile.value.shared),this.newFile.controls.shared.setValue("");let e=new Set(this.newSharedList);this.newSharedList=Array.from(e)}else alert("inserta un correo valido")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(s))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-add-new-file"]],decls:3,vars:2,consts:[[1,"mt-3","d-flex","justify-content-center"],["class","card",4,"ngIf"],["class","form-floating mb-3",4,"ngIf"],[1,"card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-floating","mb-3"],["type","text","formControlName","name","id","fileName","placeholder","Juan",1,"form-control"],["for","fileName"],["formControlName","description","id","descriptionFile","rows","3",1,"form-control","textArea"],["for","descriptionFile"],[1,"whiteText"],[1,"mb-3"],[1,"input-group","form-floating"],["type","text","id","shared","formControlName","shared",1,"form-control"],[1,"input-group-text"],["type","button",1,"float-right",3,"click"],[1,"bi","bi-cloud-plus"],["for","shared"],[1,"list-group"],["class","list-group-item",4,"ngFor","ngForOf"],[1,"file-input"],["type","file","formControlName","file",1,"file-input",3,"change"],["fileUpload",""],["mat-mini-fab","","color","primary",1,"upload-btn",3,"click"],[1,"bi","bi-file-earmark-arrow-up",2,"font-size","2rem","color","cornflowerblue"],[1,"form-group"],["type","submit","value","Subir Archivo",1,"btn","float-right","login_btn",3,"disabled"],[1,"list-group-item"],["type","button","aria-label","Close",1,"btn-close","float-right",3,"click"],["role","status",1,"spinner-border"],[1,"visually-hidden"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,p,39,4,"div",1),r.YNc(2,h,6,0,"div",2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",!t.loading),r.xp6(1),r.Q6J("ngIf",t.loading))},directives:[o.O5,u._Y,u.JL,u.sg,u.Fj,u.JJ,u.u,o.sg],styles:[".card[_ngcontent-%COMP%]{height:auto;margin-top:auto;margin-bottom:auto;width:400px;background-color:#00000080!important}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:60px;margin-left:10px;color:#ffc312}.social_icon[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{color:#fff;cursor:pointer}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#fff}.social_icon[_ngcontent-%COMP%]{position:absolute;right:20px;top:-45px}.input-group-prepend[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:50px;background-color:#ffc312;color:#000;border:0!important}input[_ngcontent-%COMP%]:focus{outline:0 0 0 0!important;box-shadow:0 0 0 0!important}.remember[_ngcontent-%COMP%]{color:#fff}.remember[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px;margin-right:5px}.login_btn[_ngcontent-%COMP%]{color:#000;background-color:#ffc312;width:auto}.login_btn[_ngcontent-%COMP%]:hover{color:#000;background-color:#fff}.links[_ngcontent-%COMP%]{color:#fff}.links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:4px}.file-input[_ngcontent-%COMP%]{display:none}.whiteText[_ngcontent-%COMP%]{color:#fff}.textArea[_ngcontent-%COMP%]{height:100px}"]}),e})()},{path:"sharedToMe",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-shared-with-me-file"]],decls:30,vars:0,consts:[[1,"py-5","text-center","container"],[1,"row","py-lg-5"],[1,"col-lg-6","col-md-8","mx-auto"],[1,"fw-light"],[1,"lead","text-muted"],[1,"album","py-5","bg-light"],[1,"container"],[1,"row","row-cols-1","row-cols-sm-2","row-cols-md-3","g-3"],[1,"col"],[1,"card","shadow-sm"],["width","100%","height","225","xmlns","http://www.w3.org/2000/svg","role","img","aria-label","Placeholder: Thumbnail","preserveAspectRatio","xMidYMid slice","focusable","false",1,"bd-placeholder-img","card-img-top"],["width","100%","height","100%","fill","#55595c"],["x","50%","y","50%","fill","#eceeef","dy",".3em"],[1,"card-body"],[1,"card-text"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn-group"],["type","button",1,"btn","btn-sm","btn-outline-secondary"],[1,"text-muted"]],template:function(e,t){1&e&&(r.TgZ(0,"main"),r.TgZ(1,"section",0),r.TgZ(2,"div",1),r.TgZ(3,"div",2),r.TgZ(4,"h1",3),r._uU(5,"Archivos compartidos conmigo"),r.qZA(),r.TgZ(6,"p",4),r._uU(7,"Son archivos a los cuales puedes tener acceso y descargarlos pero no puedes modificarlos ni compartirlos."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(8,"div",5),r.TgZ(9,"div",6),r.TgZ(10,"div",7),r.TgZ(11,"div",8),r.TgZ(12,"div",9),r.O4$(),r.TgZ(13,"svg",10),r.TgZ(14,"title"),r._uU(15,"Placeholder"),r.qZA(),r._UZ(16,"rect",11),r.TgZ(17,"text",12),r._uU(18,"Thumbnail"),r.qZA(),r.qZA(),r.kcU(),r.TgZ(19,"div",13),r.TgZ(20,"p",14),r._uU(21,"This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer."),r.qZA(),r.TgZ(22,"div",15),r.TgZ(23,"div",16),r.TgZ(24,"button",17),r._uU(25,"View"),r.qZA(),r.TgZ(26,"button",17),r._uU(27,"Edit"),r.qZA(),r.qZA(),r.TgZ(28,"small",18),r._uU(29,"9 mins"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),e})()}];let f=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[n.Bz.forChild(m)],n.Bz]}),e})(),Z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[o.ez,f,u.UX]]}),e})()}}]);